{
    "foryou" : "ZnVuY3Rpb24gaW5pdCgpe3JldHVybntkYXRhOnttZXRob2Q6ImdldCIsdXJsOiJodHRwczovL3d3dy55b3V0dWJlLmNvbSIsaGVhZGVyczp7InVzZXItYWdlbnQiOiJNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xNV83KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTguMC40NzU4LjgwIFNhZmFyaS81MzcuMzYifX0sZnVuY3Rpb246ImdldFdhdGNoSFRNTFBhZ2UifX1mdW5jdGlvbiBnZXRXYXRjaEhUTUxQYWdlKHQpe3JldHVybiBuZXh0VmlkZW9zKGZpbmRKU09OKCJmb3J5b3UuaHRtbCIsImZvcnlvdSIsdCwvXGJ5dEluaXRpYWxEYXRhXHMqPVxzKnsvLCI8XC9zY3JpcHQ+IiwieyIpKX1mdW5jdGlvbiBuZXh0VmlkZW9zKHQpe3ZhciBlO3RyeXtlPXQuY29udGVudHMudHdvQ29sdW1uQnJvd3NlUmVzdWx0c1JlbmRlcmVyLnRhYnNbMF0udGFiUmVuZGVyZXIuY29udGVudC5yaWNoR3JpZFJlbmRlcmVyLmNvbnRlbnRzfWNhdGNoKG4pe2U9dC5jb250ZW50cy50d29Db2x1bW5XYXRjaE5leHRSZXN1bHRzLnNlY29uZGFyeVJlc3VsdHMuc2Vjb25kYXJ5UmVzdWx0cy5yZXN1bHRzfXZhciBuPVtdO3JldHVybiBlLmZvckVhY2goKHQ9PntsZXQgZT10b1ZpZGVvKHQpO2UmJm4ucHVzaChlKX0pKSx7ZGF0YTp7dmlkZW9zOm59fX1mdW5jdGlvbiB0b1ZpZGVvKHQpe3RyeXt2YXIgZT10LnJpY2hJdGVtUmVuZGVyZXIuY29udGVudC52aWRlb1JlbmRlcmVyO2NvbnN0e3RpdGxlOm4sc2hvcnRCeWxpbmVUZXh0OntydW5zOnJ9LHRodW1ibmFpbDpvLHZpZGVvSWQ6aSxsZW5ndGhUZXh0OntzaW1wbGVUZXh0OnN9fT1lO3JldHVybnt0eXBlOjAsdGl0bGU6bi5ydW5zWzBdLnRleHQsY29udGVudDpyWzBdP3JbMF0udGV4dDoiIix0aHVtYm5haWw6by50aHVtYm5haWxzLnNsaWNlKC0xKVswXS51cmwsdmlkZW9JZDppLHRpbWU6c319Y2F0Y2godCl7cmV0dXJuIG51bGx9fWZ1bmN0aW9uIGZpbmRKU09OKHQsZSxuLHIsbyxpKXtsZXQgcz1iZXR3ZWVuKG4scixvKTtpZighcyl0aHJvdyBFcnJvcihgQ291bGQgbm90IGZpbmQgJHtlfSBpbiAke3R9YCk7cmV0dXJuIHBhcnNlSlNPTih0LGUsY3V0QWZ0ZXJKU09OKGAke2l9JHtzfWApKX1mdW5jdGlvbiBwYXJzZUpTT04odCxlLG4pe2lmKCFufHwib2JqZWN0Ij09dHlwZW9mIG4pcmV0dXJuIG47dHJ5e3JldHVybiBuPW4ucmVwbGFjZSgvXlspXF19J1xzXSsvLCIiKSxKU09OLnBhcnNlKG4pfWNhdGNoKG4pe3Rocm93IEVycm9yKGBFcnJvciBwYXJzaW5nICR7ZX0gaW4gJHt0fTogJHtuLm1lc3NhZ2V9YCl9fWJldHdlZW49KHQsZSxuKT0+e2xldCByO2lmKGUgaW5zdGFuY2VvZiBSZWdFeHApe2NvbnN0IG49dC5tYXRjaChlKTtpZighbilyZXR1cm4iIjtyPW4uaW5kZXgrblswXS5sZW5ndGh9ZWxzZXtpZihyPXQuaW5kZXhPZihlKSwtMT09PXIpcmV0dXJuIiI7cis9ZS5sZW5ndGh9cmV0dXJuIHI9KHQ9dC5zbGljZShyKSkuaW5kZXhPZihuKSwtMT09PXI/IiI6dD10LnNsaWNlKDAscil9LGN1dEFmdGVySlNPTj10PT57bGV0IGUsbjtpZigiWyI9PT10WzBdPyhlPSJbIixuPSJdIik6InsiPT09dFswXSYmKGU9InsiLG49In0iKSwhZSl0aHJvdyBuZXcgRXJyb3IoYENhbid0IGN1dCB1bnN1cHBvcnRlZCBKU09OIChuZWVkIHRvIGJlZ2luIHdpdGggWyBvciB7ICkgYnV0IGdvdDogJHt0WzBdfWApO2xldCByLG89ITEsaT0hMSxzPTA7Zm9yKHI9MDtyPHQubGVuZ3RoO3IrKylpZignIichPT10W3JdfHxpKXtpZihpPSJcXCI9PT10W3JdJiYhaSwhbyYmKHRbcl09PT1lP3MrKzp0W3JdPT09biYmcy0tLDA9PT1zKSlyZXR1cm4gdC5zdWJzdHIoMCxyKzEpfWVsc2Ugbz0hbzt0aHJvdyBFcnJvcigiQ2FuJ3QgY3V0IHVuc3VwcG9ydGVkIEpTT04gKG5vIG1hdGNoaW5nIGNsb3NpbmcgYnJhY2tldCBmb3VuZCkiKX07",
    "getlink" : "dmFyIHF1YWxpdHlWaWRlbz0wO2Z1bmN0aW9uIGluaXQodCxlKXtsZXQgaT0iQU5EUk9JRCI7cmV0dXJuIDAhPT0ocXVhbGl0eVZpZGVvPXBhcnNlSW50KGUpKSYmMyE9PXF1YWxpdHlWaWRlb3x8KGk9IklPUyIpLHtkYXRhOnttZXRob2Q6InBvc3QiLHVybDoiaHR0cHM6Ly93d3cueW91dHViZS5jb20veW91dHViZWkvdjEvcGxheWVyP2tleT1BSXphU3lBT19GSjJTbHFVOFE0U1RFSExHQ2lsd19ZOV8xMXFjVzgiLGhlYWRlcnM6eyJVc2VyLUFnZW50IjoiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc0LjAuMzcyOS4xNjkgU2FmYXJpLzUzNy4zNiIsSG9zdDoid3d3LnlvdXR1YmUuY29tIiwiY29udGVudC10eXBlIjoiYXBwbGljYXRpb24vanNvbiJ9LGRhdGE6SlNPTi5zdHJpbmdpZnkoe3VyaToiaHR0cHM6Ly93d3cueW91dHViZS5jb20veW91dHViZWkvdjEvcGxheWVyP2tleT1BSXphU3lBT19GSjJTbHFVOFE0U1RFSExHQ2lsd19ZOV8xMXFjVzgiLGNvbnRleHQ6e2NsaWVudDp7Y2xpZW50TmFtZTppLGNsaWVudFZlcnNpb246IjE2LjIwIn19LHZpZGVvSWQ6dCxwbGF5YmFja0NvbnRleHQ6e2NvbnRlbnRQbGF5YmFja0NvbnRleHQ6e2h0bWw1UHJlZmVyZW5jZToiSFRNTDVfUFJFRl9XQU5UUyJ9fSxjb250ZW50Q2hlY2tPazohMCxyYWN5Q2hlY2tPazohMH0pfSxmdW5jdGlvbjoiZ2V0VmlkZW9IVE1MUGFnZSJ9fWZ1bmN0aW9uIGdldFZpZGVvSFRNTFBhZ2UodCl7bGV0IGU9SlNPTi5wYXJzZSh0KTtpZigwPT09cXVhbGl0eVZpZGVvKXtyZXR1cm57ZGF0YTp7dXJsOmUuc3RyZWFtaW5nRGF0YS5obHNNYW5pZmVzdFVybH19fWlmKDM9PT1xdWFsaXR5VmlkZW8pe2xldCB0PWUuc3RyZWFtaW5nRGF0YS5obHNNYW5pZmVzdFVybDtpZih0KXJldHVybntkYXRhOnttZXRob2Q6ImdldCIsdXJsOnQsaGVhZGVyczp7IlVzZXItQWdlbnQiOiJNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNzQuMC4zNzI5LjE2OSBTYWZhcmkvNTM3LjM2IixIb3N0OiJ3d3cueW91dHViZS5jb20iLCJjb250ZW50LXR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIn19LGZ1bmN0aW9uOiJnZXRBdWRpbyJ9fWxldCBpPWUuc3RyZWFtaW5nRGF0YS5mb3JtYXRzLGE9IiIsbz17fTtyZXR1cm4gaS5mb3JFYWNoKCh0PT57b1t0Lml0YWddPXQudXJsfSkpLDE9PT1xdWFsaXR5VmlkZW8mJihhPW9bMjJdLGF8fChhPW9bMThdKSxhfHwoYT1vWzE3XSkpLDI9PT1xdWFsaXR5VmlkZW8mJihhPW9bMThdLGF8fChhPW9bMTddKSxhfHwoYT1vWzIyXSkpLHtkYXRhOnt1cmw6YX19fWZ1bmN0aW9uIGdldEF1ZGlvKHQpe2xldCBlPXQuc3BsaXQoJyNFWFQtWC1NRURJQTpVUkk9IicpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBpPWVbdF07aWYoaS5pbmNsdWRlcygiVFlQRT1BVURJTyIpKXtyZXR1cm57ZGF0YTp7dXJsOmkuc3BsaXQoJyInKVswXX19fX1yZXR1cm57ZGF0YTp7dXJsOiIifX19",
    "upnext" : "ZnVuY3Rpb24gaW5pdChlKXtyZXR1cm57ZGF0YTp7bWV0aG9kOiJnZXQiLHVybDoiaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/YXBwPWRlc2t0b3Amdj0iK2UsaGVhZGVyczp7IlVzZXItQWdlbnQiOiJNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xNV82KSBBcHBsZVdlYktpdC82MDUuMS4xNSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMTQuMC4zIFNhZmFyaS82MDUuMS4xNSJ9fSxmdW5jdGlvbjoiZ2V0V2F0Y2hIVE1MUGFnZSJ9fWZ1bmN0aW9uIGdldFdhdGNoSFRNTFBhZ2UoZSl7cmV0dXJuIG5leHRWaWRlb3MoZmluZEpTT04oIm5leHQuaHRtbCIsIm5leHRfcmVzcG9uc2UiLGUsL1xieXRJbml0aWFsRGF0YVxzKj1ccyp7LywiPFwvc2NyaXB0PiIsInsiKSl9ZnVuY3Rpb24gbmV4dFZpZGVvcyhlKXt2YXIgdDt0cnl7dD1lLnBsYXllck92ZXJsYXlzLnBsYXllck92ZXJsYXlSZW5kZXJlci5lbmRTY3JlZW4ud2F0Y2hOZXh0RW5kU2NyZWVuUmVuZGVyZXIucmVzdWx0c31jYXRjaChuKXt0PWUuY29udGVudHMudHdvQ29sdW1uV2F0Y2hOZXh0UmVzdWx0cy5zZWNvbmRhcnlSZXN1bHRzLnNlY29uZGFyeVJlc3VsdHMucmVzdWx0c312YXIgbj1bXTtyZXR1cm4gdC5mb3JFYWNoKChlPT57bGV0IHQ9dG9WaWRlbyhlKTt0JiZuLnB1c2godCl9KSkse2RhdGE6e3ZpZGVvczpufX19ZnVuY3Rpb24gdG9WaWRlbyhlKXt0cnl7dmFyIHQ9ZS5lbmRTY3JlZW5WaWRlb1JlbmRlcmVyO3ZvaWQgMD09PXQmJih0PWUuY29tcGFjdFZpZGVvUmVuZGVyZXIpO2NvbnN0e3RpdGxlOm4sc2hvcnRCeWxpbmVUZXh0OntydW5zOnJ9LHRodW1ibmFpbDpvLHZpZGVvSWQ6aSxsZW5ndGhUZXh0OntzaW1wbGVUZXh0OnN9fT10O3JldHVybnt0eXBlOjAsdGl0bGU6bi5zaW1wbGVUZXh0LGNvbnRlbnQ6clswXT9yWzBdLnRleHQ6IiIsdGh1bWJuYWlsOm8udGh1bWJuYWlscy5zbGljZSgtMSlbMF0udXJsLHZpZGVvSWQ6aSx0aW1lOnN9fWNhdGNoKGUpe3JldHVybiBudWxsfX1mdW5jdGlvbiBmaW5kSlNPTihlLHQsbixyLG8saSl7bGV0IHM9YmV0d2VlbihuLHIsbyk7aWYoIXMpdGhyb3cgRXJyb3IoYENvdWxkIG5vdCBmaW5kICR7dH0gaW4gJHtlfWApO3JldHVybiBwYXJzZUpTT04oZSx0LGN1dEFmdGVySlNPTihgJHtpfSR7c31gKSl9YmV0d2Vlbj0oZSx0LG4pPT57bGV0IHI7aWYodCBpbnN0YW5jZW9mIFJlZ0V4cCl7Y29uc3Qgbj1lLm1hdGNoKHQpO2lmKCFuKXJldHVybiIiO3I9bi5pbmRleCtuWzBdLmxlbmd0aH1lbHNle2lmKHI9ZS5pbmRleE9mKHQpLC0xPT09cilyZXR1cm4iIjtyKz10Lmxlbmd0aH1yZXR1cm4gcj0oZT1lLnNsaWNlKHIpKS5pbmRleE9mKG4pLC0xPT09cj8iIjplPWUuc2xpY2UoMCxyKX0sY3V0QWZ0ZXJKU09OPWU9PntsZXQgdCxuO2lmKCJbIj09PWVbMF0/KHQ9IlsiLG49Il0iKToieyI9PT1lWzBdJiYodD0ieyIsbj0ifSIpLCF0KXRocm93IG5ldyBFcnJvcihgQ2FuJ3QgY3V0IHVuc3VwcG9ydGVkIEpTT04gKG5lZWQgdG8gYmVnaW4gd2l0aCBbIG9yIHsgKSBidXQgZ290OiAke2VbMF19YCk7bGV0IHIsbz0hMSxpPSExLHM9MDtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKWlmKCciJyE9PWVbcl18fGkpe2lmKGk9IlxcIj09PWVbcl0mJiFpLCFvJiYoZVtyXT09PXQ/cysrOmVbcl09PT1uJiZzLS0sMD09PXMpKXJldHVybiBlLnN1YnN0cigwLHIrMSl9ZWxzZSBvPSFvO3Rocm93IEVycm9yKCJDYW4ndCBjdXQgdW5zdXBwb3J0ZWQgSlNPTiAobm8gbWF0Y2hpbmcgY2xvc2luZyBicmFja2V0IGZvdW5kKSIpfTtjb25zdCBqc29uQ2xvc2luZ0NoYXJzPS9eWylcXX0nXHNdKy87ZnVuY3Rpb24gcGFyc2VKU09OKGUsdCxuKXtpZighbnx8Im9iamVjdCI9PXR5cGVvZiBuKXJldHVybiBuO3RyeXtyZXR1cm4gbj1uLnJlcGxhY2UoanNvbkNsb3NpbmdDaGFycywiIiksSlNPTi5wYXJzZShuKX1jYXRjaChuKXt0aHJvdyBFcnJvcihgRXJyb3IgcGFyc2luZyAke3R9IGluICR7ZX06ICR7bi5tZXNzYWdlfWApfX0=",
    "detail":"ZnVuY3Rpb24gaW5pdChlLCB0KSB7CiAgICBpZiAoIiIgPT09IHQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgICAgdXJsOiAiaHR0cHM6Ly93d3cueW91dHViZS5jb20vcGxheWxpc3Q/bGlzdD0iICsgZSwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBhY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyoiLAogICAgICAgICAgICAgICAgICAgICJ1c2VyLWFnZW50IjogIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84MS4wLjQwNDQuMTEzIFNhZmFyaS81MzcuMzYiLAogICAgICAgICAgICAgICAgICAgICJhY2NlcHQtbGFuZ3VhZ2UiOiAiIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBmdW5jdGlvbjogImdldFZpZGVvSFRNTFBhZ2UiCiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIHsKICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICB1cmw6ICJodHRwczovL3d3dy55b3V0dWJlLmNvbS95b3V0dWJlaS92MS9icm93c2U/YWx0PWpzb24ma2V5PUFJemFTeUM5WEwzWmpXZGRYeWE2WDc0ZEpvQ1RMLVdFWUZETlgzMCIsCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAieC15b3V0dWJlLWRldmljZSI6ICJjYnI9Q2hyb21lJmNicnZlcj04MS4wLjQwNDQuMTEzJmNlbmc9V2ViS2l0JmNlbmd2ZXI9NTM3LjM2JmNvcz1XaW5kb3dzJmNvc3Zlcj0xMC4wJmNwbGF0Zm9ybT1ERVNLVE9QIiwKICAgICAgICAgICAgICAgICJ4LXlvdXR1YmUtdXRjLW9mZnNldCI6ICIwIiwKICAgICAgICAgICAgICAgIGFjY2VwdDogImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKiIsCiAgICAgICAgICAgICAgICAieC15b3V0dWJlLWNsaWVudC12ZXJzaW9uIjogIjEuMjAyMjAyMDcuMDAuMDAiLAogICAgICAgICAgICAgICAgIngteW91dHViZS1wYWdlLWNsIjogIjQyNjkwMTM1OSIsCiAgICAgICAgICAgICAgICAieC1vcmlnaW4iOiAiaHR0cHM6Ly93d3cueW91dHViZS5jb20vIiwKICAgICAgICAgICAgICAgICJhY2NlcHQtbGFuZ3VhZ2UiOiAiIiwKICAgICAgICAgICAgICAgICJ1c2VyLWFnZW50IjogIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84MS4wLjQwNDQuMTEzIFNhZmFyaS81MzcuMzYiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgIGNvbnRleHQ6IHsKICAgICAgICAgICAgICAgICAgICBjYXBhYmlsaXRpZXM6IHt9LAogICAgICAgICAgICAgICAgICAgIGNsaWVudDogewogICAgICAgICAgICAgICAgICAgICAgICBjbGllbnROYW1lOiAiV0VCX1JFTUlYIiwKICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50VmVyc2lvbjogIjEuMjAyMjAyMDcuMDAuMDAiLAogICAgICAgICAgICAgICAgICAgICAgICBleHBlcmltZW50SWRzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgZXhwZXJpbWVudHNUb2tlbjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGdsOiAiVVMiLAogICAgICAgICAgICAgICAgICAgICAgICBobDogImVuIiwKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25JbmZvOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvblBlcm1pc3Npb25BdXRob3JpemF0aW9uU3RhdHVzOiAiTE9DQVRJT05fUEVSTUlTU0lPTl9BVVRIT1JJWkFUSU9OX1NUQVRVU19VTlNVUFBPUlRFRCIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgbXVzaWNBcHBJbmZvOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdXNpY0FjdGl2aXR5TWFzdGVyU3dpdGNoOiAiTVVTSUNfQUNUSVZJVFlfTUFTVEVSX1NXSVRDSF9JTkRFVEVSTUlOQVRFIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11c2ljTG9jYXRpb25NYXN0ZXJTd2l0Y2g6ICJNVVNJQ19MT0NBVElPTl9NQVNURVJfU1dJVENIX0lOREVURVJNSU5BVEUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHdhSW5zdGFsbGFiaWxpdHlTdGF0dXM6ICJQV0FfSU5TVEFMTEFCSUxJVFlfU1RBVFVTX1VOS05PV04iCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHV0Y09mZnNldE1pbnV0ZXM6IDQyMAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdDogewogICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbEV4cGVyaW1lbnRGbGFnczogW3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogImZvcmNlX211c2ljX2VuYWJsZV9vdXRlcnR1YmVfdGFzdGVidWlsZGVyX2Jyb3dzZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInRydWUiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogImZvcmNlX211c2ljX2VuYWJsZV9vdXRlcnR1YmVfcGxheWxpc3RfZGV0YWlsX2Jyb3dzZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogInRydWUiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogImZvcmNlX211c2ljX2VuYWJsZV9vdXRlcnR1YmVfc2VhcmNoX3N1Z2dlc3Rpb25zIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAidHJ1ZSIKICAgICAgICAgICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JbmRleDoge30KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHVzZXI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlU2FmZXR5TW9kZTogITEKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY29udGludWF0aW9uOiB0CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBmdW5jdGlvbjogImdldFZpZGVvUGxheWxpc3RQYWdlIgogICAgfQp9CgpmdW5jdGlvbiBpbml0SGVhZGVyKGUpIHsKICAgIHJldHVybiB7CiAgICAgICAgZGF0YTogewogICAgICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICB1cmw6ICJodHRwczovL3d3dy55b3V0dWJlLmNvbS9wbGF5bGlzdD9saXN0PSIgKyBlLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBhY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyoiLAogICAgICAgICAgICAgICAgInVzZXItYWdlbnQiOiAiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzgxLjAuNDA0NC4xMTMgU2FmYXJpLzUzNy4zNiIsCiAgICAgICAgICAgICAgICAiYWNjZXB0LWxhbmd1YWdlIjogIiIKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZnVuY3Rpb246ICJnZXRIZWFkZXJIVE1MUGFnZSIKICAgIH0KfQoKZnVuY3Rpb24gZ2V0SGVhZGVySFRNTFBhZ2UoZSkgewogICAgcmV0dXJuIHsKICAgICAgICBoZWFkZXI6IGdldEhlYWRlcihmaW5kSlNPTigiRGV0YWlsLmh0bWwiLCAiRGV0YWlsX3Jlc3BvbnNlIiwgZSwgL1xieXRJbml0aWFsRGF0YVxzKj1ccyp7LywgIjxcL3NjcmlwdD4iLCAieyIpKQogICAgfQp9CgpmdW5jdGlvbiBnZXRWaWRlb0hUTUxQYWdlKGUpIHsKICAgIHJldHVybiB7CiAgICAgICAgZGF0YTogZ2V0U2VhcmNoSnNvbihmaW5kSlNPTigiRGV0YWlsLmh0bWwiLCAiRGV0YWlsX3Jlc3BvbnNlIiwgZSwgL1xieXRJbml0aWFsRGF0YVxzKj1ccyp7LywgIjxcL3NjcmlwdD4iLCAieyIpKQogICAgfQp9CgpmdW5jdGlvbiBmaW5kSlNPTihlLCB0LCBuLCBpLCBvLCByKSB7CiAgICBsZXQgYSA9IGJldHdlZW4obiwgaSwgbyk7CiAgICBpZiAoIWEpIHRocm93IEVycm9yKGBDb3VsZCBub3QgZmluZCAke3R9IGluICR7ZX1gKTsKICAgIHJldHVybiBwYXJzZUpTT04oZSwgdCwgY3V0QWZ0ZXJKU09OKGAke3J9JHthfWApKQp9CmJldHdlZW4gPSAoZSwgdCwgbikgPT4gewogICAgbGV0IGk7CiAgICBpZiAodCBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgICAgIGNvbnN0IG4gPSBlLm1hdGNoKHQpOwogICAgICAgIGlmICghbikgcmV0dXJuICIiOwogICAgICAgIGkgPSBuLmluZGV4ICsgblswXS5sZW5ndGgKICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGkgPSBlLmluZGV4T2YodCksIC0xID09PSBpKSByZXR1cm4gIiI7CiAgICAgICAgaSArPSB0Lmxlbmd0aAogICAgfQogICAgcmV0dXJuIGkgPSAoZSA9IGUuc2xpY2UoaSkpLmluZGV4T2YobiksIC0xID09PSBpID8gIiIgOiBlID0gZS5zbGljZSgwLCBpKQp9LCBjdXRBZnRlckpTT04gPSBlID0+IHsKICAgIGxldCB0LCBuOwogICAgaWYgKCJbIiA9PT0gZVswXSA/ICh0ID0gIlsiLCBuID0gIl0iKSA6ICJ7IiA9PT0gZVswXSAmJiAodCA9ICJ7IiwgbiA9ICJ9IiksICF0KSB0aHJvdyBuZXcgRXJyb3IoYENhbid0IGN1dCB1bnN1cHBvcnRlZCBKU09OIChuZWVkIHRvIGJlZ2luIHdpdGggWyBvciB7ICkgYnV0IGdvdDogJHtlWzBdfWApOwogICAgbGV0IGksIG8gPSAhMSwKICAgICAgICByID0gITEsCiAgICAgICAgYSA9IDA7CiAgICBmb3IgKGkgPSAwOyBpIDwgZS5sZW5ndGg7IGkrKykKICAgICAgICBpZiAoJyInICE9PSBlW2ldIHx8IHIpIHsKICAgICAgICAgICAgaWYgKHIgPSAiXFwiID09PSBlW2ldICYmICFyLCAhbyAmJiAoZVtpXSA9PT0gdCA/IGErKyA6IGVbaV0gPT09IG4gJiYgYS0tLCAwID09PSBhKSkgcmV0dXJuIGUuc3Vic3RyKDAsIGkgKyAxKQogICAgICAgIH0gZWxzZSBvID0gIW87CiAgICB0aHJvdyBFcnJvcigiQ2FuJ3QgY3V0IHVuc3VwcG9ydGVkIEpTT04gKG5vIG1hdGNoaW5nIGNsb3NpbmcgYnJhY2tldCBmb3VuZCkiKQp9Owpjb25zdCBqc29uQ2xvc2luZ0NoYXJzID0gL15bKVxdfSdcc10rLzsKCmZ1bmN0aW9uIHBhcnNlSlNPTihlLCB0LCBuKSB7CiAgICBpZiAoIW4gfHwgIm9iamVjdCIgPT0gdHlwZW9mIG4pIHJldHVybiBuOwogICAgdHJ5IHsKICAgICAgICByZXR1cm4gbiA9IG4ucmVwbGFjZShqc29uQ2xvc2luZ0NoYXJzLCAiIiksIEpTT04ucGFyc2UobikKICAgIH0gY2F0Y2ggKG4pIHsKICAgICAgICB0aHJvdyBFcnJvcihgRXJyb3IgcGFyc2luZyAke3R9IGluICR7ZX06ICR7bi5tZXNzYWdlfWApCiAgICB9Cn0KCmZ1bmN0aW9uIGdldEhlYWRlcihlKSB7CiAgICB0cnkgewogICAgICAgIGxldCB0ID0gZS5oZWFkZXIucGxheWxpc3RIZWFkZXJSZW5kZXJlcjsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBwbGF5bGlzdElkOiB0LnBsYXlsaXN0SWQsCiAgICAgICAgICAgIHRpdGxlOiB0LnRpdGxlLnNpbXBsZVRleHQsCiAgICAgICAgICAgIGNvdW50OiB0Lm51bVZpZGVvc1RleHQucnVuc1swXS50ZXh0LAogICAgICAgICAgICBkZXNjcmlwdGlvbjogdC5kZXNjcmlwdGlvblRleHQuc2ltcGxlVGV4dCwKICAgICAgICAgICAgaW1hZ2U6IGBodHRwczovL2kueXRpbWcuY29tL3ZpLyR7dC5wbGF5RW5kcG9pbnQud2F0Y2hFbmRwb2ludC52aWRlb0lkfS9ocWRlZmF1bHQuanBnYAogICAgICAgIH0KICAgIH0gY2F0Y2ggKGUpIHt9CiAgICByZXR1cm4gIiIKfQoKZnVuY3Rpb24gZ2V0U2VhcmNoSnNvbihlKSB7CiAgICByZXR1cm4gdG9qc29uKGUuY29udGVudHMudHdvQ29sdW1uQnJvd3NlUmVzdWx0c1JlbmRlcmVyLnRhYnNbMF0udGFiUmVuZGVyZXIuY29udGVudC5zZWN0aW9uTGlzdFJlbmRlcmVyLmNvbnRlbnRzWzBdLml0ZW1TZWN0aW9uUmVuZGVyZXIuY29udGVudHNbMF0ucGxheWxpc3RWaWRlb0xpc3RSZW5kZXJlci5jb250ZW50cykKfQoKZnVuY3Rpb24gdG9qc29uKGUpIHsKICAgIGxldCB0ID0gIiI7CiAgICByZXR1cm4gewogICAgICAgIHZpZGVvczogZS5tYXAoKGUgPT4gewogICAgICAgICAgICBjb25zdCBuID0gdG9WaWRlbyhlKTsKICAgICAgICAgICAgaWYgKG4pIHJldHVybiBuOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgdCA9IGUuY29udGludWF0aW9uSXRlbVJlbmRlcmVyLmNvbnRpbnVhdGlvbkVuZHBvaW50LmNvbnRpbnVhdGlvbkNvbW1hbmQudG9rZW4KICAgICAgICAgICAgfSBjYXRjaCAodCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGUKICAgICAgICAgICAgfQogICAgICAgIH0pKS5maWx0ZXIoKGUgPT4gZSkpLAogICAgICAgIHRva2VuOiB0CiAgICB9Cn0KCmZ1bmN0aW9uIHRvVmlkZW8oZSkgewogICAgdHJ5IHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICAgIHBsYXlsaXN0VmlkZW9SZW5kZXJlcjogewogICAgICAgICAgICAgICAgdGl0bGU6IHQsCiAgICAgICAgICAgICAgICBzaG9ydEJ5bGluZVRleHQ6IHsKICAgICAgICAgICAgICAgICAgICBydW5zOiBuCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdGh1bWJuYWlsOiBpLAogICAgICAgICAgICAgICAgdmlkZW9JZDogbywKICAgICAgICAgICAgICAgIGxlbmd0aFRleHQ6IHsKICAgICAgICAgICAgICAgICAgICBzaW1wbGVUZXh0OiByCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9ID0gZTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0eXBlOiAwLAogICAgICAgICAgICB0aXRsZTogdC5ydW5zWzBdLnRleHQsCiAgICAgICAgICAgIGNvbnRlbnQ6IG5bMF0gPyBuWzBdLnRleHQgOiAiIiwKICAgICAgICAgICAgdGh1bWJuYWlsOiBpLnRodW1ibmFpbHMuc2xpY2UoLTEpWzBdLnVybCwKICAgICAgICAgICAgdmlkZW9JZDogbywKICAgICAgICAgICAgdGltZTogcgogICAgICAgIH0KICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gbnVsbAogICAgfQp9CgpmdW5jdGlvbiBnZXRWaWRlb1BsYXlsaXN0UGFnZShlKSB7CiAgICByZXR1cm4gewogICAgICAgIGRhdGE6IHRvanNvbk5leHQoSlNPTi5wYXJzZShlKS5jb250aW51YXRpb25Db250ZW50cy5tdXNpY1BsYXlsaXN0U2hlbGZDb250aW51YXRpb24pCiAgICB9Cn0KCmZ1bmN0aW9uIHRvanNvbk5leHQoZSkgewogICAgbGV0IHQgPSAiIjsKICAgIGNvbnN0IG4gPSBlLmNvbnRlbnRzLm1hcCgoZSA9PiB7CiAgICAgICAgY29uc3QgdCA9IHRvVmlkZW9OZXh0KGUpOwogICAgICAgIGlmICh0KSByZXR1cm4gdAogICAgfSkpLmZpbHRlcigoZSA9PiBlKSk7CiAgICB0cnkgewogICAgICAgIHQgPSBlLmNvbnRpbnVhdGlvbnNbMF0ubmV4dENvbnRpbnVhdGlvbkRhdGEuY29udGludWF0aW9uCiAgICB9IGNhdGNoIChlKSB7fQogICAgcmV0dXJuIHsKICAgICAgICB2aWRlb3M6IG4sCiAgICAgICAgdG9rZW46IHQKICAgIH0KfQoKZnVuY3Rpb24gdG9WaWRlb05leHQoZSkgewogICAgdHJ5IHsKICAgICAgICBsZXQgdCA9IGUubXVzaWNSZXNwb25zaXZlTGlzdEl0ZW1SZW5kZXJlciwKICAgICAgICAgICAgbiA9IHQuZmxleENvbHVtbnMsCiAgICAgICAgICAgIGkgPSBuWzBdLm11c2ljUmVzcG9uc2l2ZUxpc3RJdGVtRmxleENvbHVtblJlbmRlcmVyLnRleHQucnVuc1swXS50ZXh0LAogICAgICAgICAgICBvID0gblsxXS5tdXNpY1Jlc3BvbnNpdmVMaXN0SXRlbUZsZXhDb2x1bW5SZW5kZXJlci50ZXh0LnJ1bnNbMF0udGV4dCwKICAgICAgICAgICAgciA9IHQudGh1bWJuYWlsLm11c2ljVGh1bWJuYWlsUmVuZGVyZXIudGh1bWJuYWlsLnRodW1ibmFpbHNbMF0udXJsLAogICAgICAgICAgICBhID0gIiI7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgYSA9IHQucGxheWxpc3RJdGVtRGF0YS52aWRlb0lkCiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBhID0gci5zcGxpdCgiLyIpWzRdCiAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHR5cGU6IDAsCiAgICAgICAgICAgIHRpdGxlOiBpLAogICAgICAgICAgICBjb250ZW50OiBvLAogICAgICAgICAgICB0aHVtYm5haWw6IHIsCiAgICAgICAgICAgIHZpZGVvSWQ6IGEsCiAgICAgICAgICAgIHRpbWU6IHQuZml4ZWRDb2x1bW5zWzBdLm11c2ljUmVzcG9uc2l2ZUxpc3RJdGVtRml4ZWRDb2x1bW5SZW5kZXJlci50ZXh0LnJ1bnNbMF0udGV4dAogICAgICAgIH0KICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gbnVsbAogICAgfQp9Cg=="
}
